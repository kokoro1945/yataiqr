# コード構成まとめ

このドキュメントでは、リポジトリ内の主なファイルが担っている役割と実装上のポイントを整理します。

## `index.html`
- QR生成ツールのエントリーポイントとなる静的ページ。
- Tailwind CSS をビルドした `assets/styles.css` を読み込み、シンプルなフォームUIを構築。
- 屋台番号入力欄、ゼロ埋め用チェックボックス、QRサイズ・ラベル入力フィールド、生成・コピー・ダウンロードボタン、QRプレビュー領域などを定義。
- ページ末尾で `assets/main.js` を読み込み、JavaScriptによる動的処理を可能にする。

## `assets/styles.css`
- Tailwind CSS v3 をビルドした結果の単一CSSファイル（ミニファイ済み）。
- ベースリセット、ユーティリティクラス、`btn-primary` / `btn-ghost` などのカスタム風味を含むクラスが一括で定義されている。
- `index.html` 内のコンポーネントは主に Tailwind ユーティリティクラスでレイアウトされ、追加のカラーパレットやカード風装飾もこのファイルで提供。

## `assets/main.js`
- Vite 等のバンドラーで生成された即時実行関数 (IIFE) 形式のバンドル。
- 冒頭は `qrcode` ライブラリ関連のユーティリティモジュール群を CommonJS 風に展開しており、ブラウザ環境で QR コード画像を生成できるようにしている。
- 終盤の `src/main.js` 相当部分がアプリ固有ロジック:
  - `FORM_BASE` 常数と主要DOM要素のキャッシュ。
  - `pad3` による屋台番号正規化、`buildFormUrl`・`renderQR`・`setInteractiveState` などUI連携関数。
  - `generate` 関数で屋台番号の検証 → URL生成 → `qrcode` ライブラリによるPNGデータURL生成 → UI更新までを制御。
  - `init` でイベントリスナー設定、URLクエリの初期値反映、初回プレースホルダー描画。
- レンダリングトークンで連続リクエストの競合を防ぎ、クリップボードAPIの成功/失敗処理や履歴更新も担う。

